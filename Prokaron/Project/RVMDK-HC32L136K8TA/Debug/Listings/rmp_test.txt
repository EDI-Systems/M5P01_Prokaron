; generated by Component: ARM Compiler 5.06 update 2 (build 183) Tool: ArmCC [4d35cd]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\debug\output\rmp_test.o --asm_dir=.\Debug\Listings\ --list_dir=.\Debug\Listings\ --depend=.\debug\output\rmp_test.d --cpu=Cortex-M0+ --apcs=interwork -O3 -Otime --diag_suppress=9931 -I..\..\MProkaron\Include -I..\..\..\M0P0_Library\HC32L13X_DDL_V1.0\driver\inc -I..\..\..\M0P0_Library\HC32L13X_DDL_V1.0\mcu\common -I..\..\..\M0P0_Library\HC32L13X_DDL_V1.0\driver\CMSIS\Include -IF:\Code_Library\MCU\Mutatus\M5P1_MuProkaron\Project\RVMDK-HC32L136K8TA\RTE -ID:\Program_Files_x86\Keil_v5\ARM\PACK\ARM\CMSIS\5.3.0\CMSIS\Include -ID:\Program_Files_x86\Keil_v5\ARM\PACK\HDSC\HC32L13X\1.0.0\Device\Include -D__MICROLIB -D__UVISION_VERSION=520 -D_RTE_ --enum_is_int --signed_chars --omf_browse=.\debug\output\rmp_test.crf ..\..\MProkaron\Benchmark\rmp_test.c]
                          THUMB

                          AREA ||i.Func_1||, CODE, READONLY, ALIGN=2

                  Func_1 PROC
;;;84     
;;;85     void Func_1(void)
000000  2700              MOVS     r7,#0
000002  4c12              LDR      r4,|L1.76|
000004  4e12              LDR      r6,|L1.80|
000006  463d              MOV      r5,r7
                  |L1.8|
000008  8025              STRH     r5,[r4,#0]
00000a  f7fffffe          BL       RMP_Yield
00000e  1c7f              ADDS     r7,r7,#1
000010  42b7              CMP      r7,r6
000012  dbf9              BLT      |L1.8|
;;;86     {
;;;87         Test_Yield_1();
;;;88         /* Change priority of thread 2 */
;;;89         RMP_Thd_Set(&Thd_2,2,RMP_MAX_SLICES);
000014  4f0f              LDR      r7,|L1.84|
000016  2102              MOVS     r1,#2
000018  463a              MOV      r2,r7
00001a  480f              LDR      r0,|L1.88|
00001c  f7fffffe          BL       RMP_Thd_Set
000020  6225              STR      r5,[r4,#0x20]  ; Count
                  |L1.34|
000022  8025              STRH     r5,[r4,#0]
000024  463a              MOV      r2,r7
000026  2101              MOVS     r1,#1
000028  480b              LDR      r0,|L1.88|
00002a  f7fffffe          BL       RMP_Thd_Snd
00002e  6a20              LDR      r0,[r4,#0x20]  ; Count
000030  1c40              ADDS     r0,r0,#1
000032  6220              STR      r0,[r4,#0x20]  ; Count
000034  42b0              CMP      r0,r6
000036  dbf4              BLT      |L1.34|
000038  2700              MOVS     r7,#0
                  |L1.58|
00003a  8025              STRH     r5,[r4,#0]
00003c  2101              MOVS     r1,#1
00003e  4807              LDR      r0,|L1.92|
000040  f7fffffe          BL       RMP_Sem_Post
000044  1c7f              ADDS     r7,r7,#1
000046  42b7              CMP      r7,r6
000048  dbf7              BLT      |L1.58|
                  |L1.74|
;;;90         Test_Mail_1();
;;;91         Test_Sem_1();
;;;92         while(1);
00004a  e7fe              B        |L1.74|
;;;93     }
;;;94     /* End Function:Test_Yield ***************************************************/
                          ENDP

                  |L1.76|
                          DCD      ||.data||
                  |L1.80|
                          DCD      0x00002710
                  |L1.84|
                          DCD      0x000186a0
                  |L1.88|
                          DCD      ||.bss||+0x83c
                  |L1.92|
                          DCD      ||.bss||+0x878

                          AREA ||i.Func_2||, CODE, READONLY, ALIGN=2

                  Func_2 PROC
;;;769    
;;;770    void Func_2(void)
000000  4c56              LDR      r4,|L2.348|
;;;771    {
000002  b082              SUB      sp,sp,#8
;;;772        /* Yield tests */
;;;773        Total=0;
000004  2500              MOVS     r5,#0
000006  6065              STR      r5,[r4,#4]  ; Total
000008  462e              MOV      r6,r5
00000a  4f55              LDR      r7,|L2.352|
                  |L2.12|
00000c  f7fffffe          BL       RMP_Yield
000010  8065              STRH     r5,[r4,#2]
000012  8860              LDRH     r0,[r4,#2]  ; End
000014  8821              LDRH     r1,[r4,#0]  ; Start
000016  1a40              SUBS     r0,r0,r1
000018  6861              LDR      r1,[r4,#4]  ; Total
00001a  b280              UXTH     r0,r0
00001c  1840              ADDS     r0,r0,r1
00001e  6060              STR      r0,[r4,#4]  ; Total
000020  1c76              ADDS     r6,r6,#1
000022  42be              CMP      r6,r7
000024  dbf2              BLT      |L2.12|
;;;774        Test_Yield_2();
;;;775        RMP_PRINTK_S("Yield: ");
000026  a04f              ADR      r0,|L2.356|
000028  f7fffffe          BL       RMP_Print_String
;;;776    
;;;777        Yield_Time=Total/10000;
00002c  4639              MOV      r1,r7
00002e  6860              LDR      r0,[r4,#4]  ; Total
000030  f7fffffe          BL       __aeabi_uidivmod
000034  60e0              STR      r0,[r4,#0xc]  ; Yield_Time
;;;778        RMP_PRINTK_I(Yield_Time);
000036  68e0              LDR      r0,[r4,#0xc]  ; Yield_Time
000038  f7fffffe          BL       RMP_Print_Int
;;;779        RMP_PRINTK_S(" cycles.\r\n");
00003c  a04b              ADR      r0,|L2.364|
00003e  f7fffffe          BL       RMP_Print_String
;;;780        /* Change priority of thread 2, just in case */
;;;781        RMP_Thd_Set(&Thd_2,2,RMP_MAX_SLICES);
000042  4a4d              LDR      r2,|L2.376|
000044  2102              MOVS     r1,#2
000046  484d              LDR      r0,|L2.380|
000048  f7fffffe          BL       RMP_Thd_Set
;;;782        
;;;783        /* Mailbox tests */
;;;784        Total=0;
00004c  6065              STR      r5,[r4,#4]  ; Total
00004e  4e4a              LDR      r6,|L2.376|
000050  2700              MOVS     r7,#0                 ;781
                  |L2.82|
000052  4631              MOV      r1,r6                 ;781
000054  4668              MOV      r0,sp                 ;781
000056  f7fffffe          BL       RMP_Thd_Rcv
00005a  8065              STRH     r5,[r4,#2]            ;781
00005c  8860              LDRH     r0,[r4,#2]            ;781  ; End
00005e  8821              LDRH     r1,[r4,#0]            ;781  ; Start
000060  1a40              SUBS     r0,r0,r1              ;781
000062  6861              LDR      r1,[r4,#4]            ;781  ; Total
000064  b280              UXTH     r0,r0                 ;781
000066  1840              ADDS     r0,r0,r1              ;781
000068  6060              STR      r0,[r4,#4]            ;781  ; Total
00006a  483d              LDR      r0,|L2.352|
00006c  1c7f              ADDS     r7,r7,#1              ;781
00006e  4287              CMP      r7,r0                 ;781
000070  dbef              BLT      |L2.82|
;;;785        Test_Mail_2();
;;;786        RMP_PRINTK_S("Mailbox: ");
000072  a043              ADR      r0,|L2.384|
000074  f7fffffe          BL       RMP_Print_String
;;;787        Mailbox_Time=Total/10000;
000078  4939              LDR      r1,|L2.352|
00007a  6860              LDR      r0,[r4,#4]  ; Total
00007c  f7fffffe          BL       __aeabi_uidivmod
000080  6120              STR      r0,[r4,#0x10]  ; Mailbox_Time
;;;788        RMP_PRINTK_I(Mailbox_Time);
000082  6920              LDR      r0,[r4,#0x10]  ; Mailbox_Time
000084  f7fffffe          BL       RMP_Print_Int
;;;789        RMP_PRINTK_S(" cycles.\r\n");
000088  a038              ADR      r0,|L2.364|
00008a  f7fffffe          BL       RMP_Print_String
;;;790        
;;;791        /* Semaphore tests */
;;;792        Total=0;
00008e  6065              STR      r5,[r4,#4]  ; Total
000090  2700              MOVS     r7,#0
                  |L2.146|
000092  4631              MOV      r1,r6
000094  483d              LDR      r0,|L2.396|
000096  f7fffffe          BL       RMP_Sem_Pend
00009a  8065              STRH     r5,[r4,#2]
00009c  8860              LDRH     r0,[r4,#2]  ; End
00009e  8821              LDRH     r1,[r4,#0]  ; Start
0000a0  1a40              SUBS     r0,r0,r1
0000a2  6861              LDR      r1,[r4,#4]  ; Total
0000a4  b280              UXTH     r0,r0
0000a6  1840              ADDS     r0,r0,r1
0000a8  6060              STR      r0,[r4,#4]  ; Total
0000aa  482d              LDR      r0,|L2.352|
0000ac  1c7f              ADDS     r7,r7,#1
0000ae  4287              CMP      r7,r0
0000b0  dbef              BLT      |L2.146|
;;;793        Test_Sem_2();
;;;794        RMP_PRINTK_S("Semaphore: ");
0000b2  a037              ADR      r0,|L2.400|
0000b4  f7fffffe          BL       RMP_Print_String
;;;795        Semaphore_Time=Total/10000;
0000b8  4f29              LDR      r7,|L2.352|
0000ba  6860              LDR      r0,[r4,#4]  ; Total
0000bc  4639              MOV      r1,r7
0000be  f7fffffe          BL       __aeabi_uidivmod
0000c2  6160              STR      r0,[r4,#0x14]  ; Semaphore_Time
;;;796        RMP_PRINTK_I(Semaphore_Time);
0000c4  6960              LDR      r0,[r4,#0x14]  ; Semaphore_Time
0000c6  f7fffffe          BL       RMP_Print_Int
;;;797        RMP_PRINTK_S(" cycles.\r\n");
0000ca  a028              ADR      r0,|L2.364|
0000cc  f7fffffe          BL       RMP_Print_String
;;;798        
;;;799        /* Memory pool tests */
;;;800    #ifdef TEST_MEM_POOL
;;;801        Test_Mem_Pool();
;;;802    #endif
;;;803    
;;;804        /* Mailbox from interrupt tests */
;;;805        Total=0;
0000d0  6065              STR      r5,[r4,#4]  ; Total
0000d2  6265              STR      r5,[r4,#0x24]  ; Count
                  |L2.212|
0000d4  4631              MOV      r1,r6
0000d6  4668              MOV      r0,sp
0000d8  f7fffffe          BL       RMP_Thd_Rcv
0000dc  8065              STRH     r5,[r4,#2]
0000de  8860              LDRH     r0,[r4,#2]  ; End
0000e0  8821              LDRH     r1,[r4,#0]  ; Start
0000e2  1a40              SUBS     r0,r0,r1
0000e4  6861              LDR      r1,[r4,#4]  ; Total
0000e6  b280              UXTH     r0,r0
0000e8  1840              ADDS     r0,r0,r1
0000ea  6060              STR      r0,[r4,#4]  ; Total
0000ec  6a60              LDR      r0,[r4,#0x24]  ; Count
0000ee  1c40              ADDS     r0,r0,#1
0000f0  6260              STR      r0,[r4,#0x24]  ; Count
0000f2  42b8              CMP      r0,r7
0000f4  dbee              BLT      |L2.212|
;;;806        Int_Init();
;;;807        Test_Mail_ISR();
;;;808        
;;;809        /* Semaphore from interrupt tests */
;;;810        Temp=Total;
0000f6  6860              LDR      r0,[r4,#4]  ; Total
0000f8  60a0              STR      r0,[r4,#8]  ; Temp
;;;811        Total=0;
0000fa  6065              STR      r5,[r4,#4]  ; Total
0000fc  62a5              STR      r5,[r4,#0x28]  ; Count
                  |L2.254|
0000fe  4631              MOV      r1,r6
000100  4822              LDR      r0,|L2.396|
000102  f7fffffe          BL       RMP_Sem_Pend
000106  8065              STRH     r5,[r4,#2]
000108  8860              LDRH     r0,[r4,#2]  ; End
00010a  8821              LDRH     r1,[r4,#0]  ; Start
00010c  1a40              SUBS     r0,r0,r1
00010e  6861              LDR      r1,[r4,#4]  ; Total
000110  b280              UXTH     r0,r0
000112  1840              ADDS     r0,r0,r1
000114  6060              STR      r0,[r4,#4]  ; Total
000116  6aa0              LDR      r0,[r4,#0x28]  ; Count
000118  1c40              ADDS     r0,r0,#1
00011a  62a0              STR      r0,[r4,#0x28]  ; Count
00011c  42b8              CMP      r0,r7
00011e  dbee              BLT      |L2.254|
;;;812        Test_Sem_ISR();
;;;813        
;;;814        RMP_PRINTK_S("Mailbox-ISR: ");
000120  a01e              ADR      r0,|L2.412|
000122  f7fffffe          BL       RMP_Print_String
;;;815        Mailbox_ISR_Time=Temp/10000;
000126  4639              MOV      r1,r7
000128  68a0              LDR      r0,[r4,#8]  ; Temp
00012a  f7fffffe          BL       __aeabi_uidivmod
00012e  61a0              STR      r0,[r4,#0x18]  ; Mailbox_ISR_Time
;;;816        RMP_PRINTK_I(Mailbox_ISR_Time);
000130  69a0              LDR      r0,[r4,#0x18]  ; Mailbox_ISR_Time
000132  f7fffffe          BL       RMP_Print_Int
;;;817        RMP_PRINTK_S(" cycles.\r\n");
000136  a00d              ADR      r0,|L2.364|
000138  f7fffffe          BL       RMP_Print_String
;;;818        RMP_PRINTK_S("Semaphore-ISR: ");
00013c  a01b              ADR      r0,|L2.428|
00013e  f7fffffe          BL       RMP_Print_String
;;;819        Semaphore_ISR_Time=Total/10000;
000142  4639              MOV      r1,r7
000144  6860              LDR      r0,[r4,#4]  ; Total
000146  f7fffffe          BL       __aeabi_uidivmod
00014a  61e0              STR      r0,[r4,#0x1c]  ; Semaphore_ISR_Time
;;;820        RMP_PRINTK_I(Semaphore_ISR_Time);
00014c  69e0              LDR      r0,[r4,#0x1c]  ; Semaphore_ISR_Time
00014e  f7fffffe          BL       RMP_Print_Int
;;;821        RMP_PRINTK_S(" cycles.\r\n");
000152  a006              ADR      r0,|L2.364|
000154  f7fffffe          BL       RMP_Print_String
                  |L2.344|
;;;822    
;;;823    #ifdef RMP_COVERAGE
;;;824        Test_Coverage_2();
;;;825        RMP_Print_Coverage();
;;;826    #endif
;;;827        
;;;828        while(1);
000158  e7fe              B        |L2.344|
;;;829    }
;;;830    /* End Function:Func_2 *******************************************************/
                          ENDP

00015a  0000              DCW      0x0000
                  |L2.348|
                          DCD      ||.data||
                  |L2.352|
                          DCD      0x00002710
                  |L2.356|
000164  5969656c          DCB      "Yield: ",0
000168  643a2000
                  |L2.364|
00016c  20637963          DCB      " cycles.\r\n",0
000170  6c65732e
000174  0d0a00  
000177  00                DCB      0
                  |L2.376|
                          DCD      0x000186a0
                  |L2.380|
                          DCD      ||.bss||+0x83c
                  |L2.384|
000180  4d61696c          DCB      "Mailbox: ",0
000184  626f783a
000188  2000    
00018a  00                DCB      0
00018b  00                DCB      0
                  |L2.396|
                          DCD      ||.bss||+0x878
                  |L2.400|
000190  53656d61          DCB      "Semaphore: ",0
000194  70686f72
000198  653a2000
                  |L2.412|
00019c  4d61696c          DCB      "Mailbox-ISR: ",0
0001a0  626f782d
0001a4  4953523a
0001a8  2000    
0001aa  00                DCB      0
0001ab  00                DCB      0
                  |L2.428|
0001ac  53656d61          DCB      "Semaphore-ISR: ",0
0001b0  70686f72
0001b4  652d4953
0001b8  523a2000

                          AREA ||i.Int_Disable||, CODE, READONLY, ALIGN=1

                  Int_Disable PROC
;;;78     ******************************************************************************/
;;;79     void Int_Disable(void)
000000  4770              BX       lr
;;;80     {
;;;81         /* 在这里你需要除能用作中断源的定时器的溢出中断并停止该定时器 */
;;;82     }
;;;83     #endif
                          ENDP


                          AREA ||i.Int_Handler||, CODE, READONLY, ALIGN=2

                  Int_Handler PROC
;;;837    ******************************************************************************/
;;;838    void Int_Handler(void)
000000  b510              PUSH     {r4,lr}
;;;839    {
;;;840        static rmp_cnt_t Count=0;
;;;841        
;;;842        if(Count<10000)
000002  4c17              LDR      r4,|L4.96|
000004  4b17              LDR      r3,|L4.100|
;;;843        {
;;;844            Count++;
000006  6ae1              LDR      r1,[r4,#0x2c]  ; Count
000008  2200              MOVS     r2,#0                 ;842
00000a  1c48              ADDS     r0,r1,#1
00000c  4299              CMP      r1,r3                 ;842
00000e  da11              BGE      |L4.52|
;;;845            Start=COUNTER_READ();
000010  62e0              STR      r0,[r4,#0x2c]  ; Count
000012  8022              STRH     r2,[r4,#0]
;;;846            if(RMP_Thd_Snd_ISR(&Thd_2, 1)<0)
000014  2101              MOVS     r1,#1
000016  4814              LDR      r0,|L4.104|
000018  f7fffffe          BL       RMP_Thd_Snd_ISR
00001c  2800              CMP      r0,#0
00001e  da1e              BGE      |L4.94|
;;;847            {
;;;848                RMP_PRINTK_S("ISR Mailbox send failure: ");
000020  a012              ADR      r0,|L4.108|
000022  f7fffffe          BL       RMP_Print_String
;;;849                RMP_PRINTK_I(Count);
000026  6ae0              LDR      r0,[r4,#0x2c]  ; Count
000028  f7fffffe          BL       RMP_Print_Int
;;;850                RMP_PRINTK_S(" sends.\r\n");
00002c  a016              ADR      r0,|L4.136|
00002e  f7fffffe          BL       RMP_Print_String
                  |L4.50|
;;;851                while(1);
000032  e7fe              B        |L4.50|
                  |L4.52|
;;;852            }
;;;853        }
;;;854        else if(Count<20000)
000034  4b17              LDR      r3,|L4.148|
000036  4299              CMP      r1,r3
000038  da11              BGE      |L4.94|
;;;855        {
;;;856            Count++;
;;;857            Start=COUNTER_READ();
00003a  62e0              STR      r0,[r4,#0x2c]  ; Count
00003c  8022              STRH     r2,[r4,#0]
;;;858            if(RMP_Sem_Post_ISR(&Sem_1, 1)<0)
00003e  2101              MOVS     r1,#1
000040  4815              LDR      r0,|L4.152|
000042  f7fffffe          BL       RMP_Sem_Post_ISR
000046  2800              CMP      r0,#0
000048  da09              BGE      |L4.94|
;;;859            {
;;;860                RMP_PRINTK_S("ISR semaphore post failure: ");
00004a  a014              ADR      r0,|L4.156|
00004c  f7fffffe          BL       RMP_Print_String
;;;861                RMP_PRINTK_I(Count);
000050  6ae0              LDR      r0,[r4,#0x2c]  ; Count
000052  f7fffffe          BL       RMP_Print_Int
;;;862                RMP_PRINTK_S(" posts.\r\n");
000056  a019              ADR      r0,|L4.188|
000058  f7fffffe          BL       RMP_Print_String
                  |L4.92|
;;;863                while(1);
00005c  e7fe              B        |L4.92|
                  |L4.94|
;;;864            }
;;;865        }
;;;866        else
;;;867            Int_Disable();
;;;868    }
00005e  bd10              POP      {r4,pc}
;;;869    #endif
                          ENDP

                  |L4.96|
                          DCD      ||.data||
                  |L4.100|
                          DCD      0x00002710
                  |L4.104|
                          DCD      ||.bss||+0x83c
                  |L4.108|
00006c  49535220          DCB      "ISR Mailbox send failure: ",0
000070  4d61696c
000074  626f7820
000078  73656e64
00007c  20666169
000080  6c757265
000084  3a2000  
000087  00                DCB      0
                  |L4.136|
000088  2073656e          DCB      " sends.\r\n",0
00008c  64732e0d
000090  0a00    
000092  00                DCB      0
000093  00                DCB      0
                  |L4.148|
                          DCD      0x00004e20
                  |L4.152|
                          DCD      ||.bss||+0x878
                  |L4.156|
00009c  49535220          DCB      "ISR semaphore post failure: ",0
0000a0  73656d61
0000a4  70686f72
0000a8  6520706f
0000ac  73742066
0000b0  61696c75
0000b4  72653a20
0000b8  00      
0000b9  00                DCB      0
0000ba  00                DCB      0
0000bb  00                DCB      0
                  |L4.188|
0000bc  20706f73          DCB      " posts.\r\n",0
0000c0  74732e0d
0000c4  0a00    
0000c6  00                DCB      0
0000c7  00                DCB      0

                          AREA ||i.Int_Init||, CODE, READONLY, ALIGN=1

                  Int_Init PROC
;;;55     ******************************************************************************/
;;;56     void Int_Init(void)
000000  4770              BX       lr
;;;57     {
;;;58         /* 在这里你需要初始化用作中断源的定时器的溢出中断并启动该定时器 */
;;;59     }
;;;60     
                          ENDP


                          AREA ||i.RMP_Init_Hook||, CODE, READONLY, ALIGN=2

                  RMP_Init_Hook PROC
;;;877    ******************************************************************************/
;;;878    void RMP_Init_Hook(void)
000000  b510              PUSH     {r4,lr}
;;;879    {
000002  b082              SUB      sp,sp,#8
;;;880    #ifndef MINIMAL_SIZE
;;;881        /* Init the timer */
;;;882        Timer_Init();
;;;883        /* Clean up the structures */
;;;884        RMP_Clear(&Thd_1,sizeof(struct RMP_Thd));
000004  213c              MOVS     r1,#0x3c
000006  4812              LDR      r0,|L6.80|
000008  f7fffffe          BL       RMP_Clear
;;;885        RMP_Clear(&Thd_2,sizeof(struct RMP_Thd));
00000c  213c              MOVS     r1,#0x3c
00000e  4811              LDR      r0,|L6.84|
000010  f7fffffe          BL       RMP_Clear
;;;886        RMP_Clear(&Sem_1,sizeof(struct RMP_Sem));
000014  2110              MOVS     r1,#0x10
000016  4810              LDR      r0,|L6.88|
000018  f7fffffe          BL       RMP_Clear
;;;887        /* Create counting semaphore */
;;;888        RMP_Sem_Crt(&Sem_1,0);
00001c  2100              MOVS     r1,#0
00001e  480e              LDR      r0,|L6.88|
000020  f7fffffe          BL       RMP_Sem_Crt
;;;889        /* Start threads */
;;;890        RMP_Thd_Crt(&Thd_1, Func_1, THD1_STACK, (void*)0x1234, 1, 5);
000024  2005              MOVS     r0,#5
000026  2401              MOVS     r4,#1
000028  9001              STR      r0,[sp,#4]
00002a  4b0c              LDR      r3,|L6.92|
00002c  4a0c              LDR      r2,|L6.96|
00002e  490d              LDR      r1,|L6.100|
000030  9400              STR      r4,[sp,#0]
000032  4807              LDR      r0,|L6.80|
000034  f7fffffe          BL       RMP_Thd_Crt
;;;891        RMP_Thd_Crt(&Thd_2, Func_2, THD2_STACK, (void*)0x4321, 1, 1000);
000038  207d              MOVS     r0,#0x7d
00003a  00c0              LSLS     r0,r0,#3
00003c  9001              STR      r0,[sp,#4]
00003e  4b0a              LDR      r3,|L6.104|
000040  4a0a              LDR      r2,|L6.108|
000042  490b              LDR      r1,|L6.112|
000044  9400              STR      r4,[sp,#0]
000046  4803              LDR      r0,|L6.84|
000048  f7fffffe          BL       RMP_Thd_Crt
;;;892    #endif
;;;893    }
00004c  b002              ADD      sp,sp,#8
00004e  bd10              POP      {r4,pc}
;;;894    
                          ENDP

                  |L6.80|
                          DCD      ||.bss||+0x800
                  |L6.84|
                          DCD      ||.bss||+0x83c
                  |L6.88|
                          DCD      ||.bss||+0x878
                  |L6.92|
                          DCD      0x00001234
                  |L6.96|
                          DCD      ||.bss||+0x398
                  |L6.100|
                          DCD      Func_1
                  |L6.104|
                          DCD      0x00004321
                  |L6.108|
                          DCD      ||.bss||+0x798
                  |L6.112|
                          DCD      Func_2

                          AREA ||i.RMP_Init_Idle||, CODE, READONLY, ALIGN=1

                  RMP_Init_Idle PROC
;;;894    
;;;895    void RMP_Init_Idle(void)
000000  4770              BX       lr
;;;896    {
;;;897        return;
;;;898    }
;;;899    /* End Function:RMP_Init *****************************************************/
                          ENDP


                          AREA ||i.TIMXX_IRQHandler||, CODE, READONLY, ALIGN=1

                  TIMXX_IRQHandler PROC
;;;62     /* 这个函数是该定时器的溢出中断向量。函数名要改成合适的函数名。*/
;;;63     void TIMXX_IRQHandler(void)
000000  b510              PUSH     {r4,lr}
;;;64     {   
;;;65         /* 在这里响应中断，做一些清除中断Flag的事情， */
;;;66         
;;;67         /* 然后调用Int_Handler函数。 */
;;;68         Int_Handler();
000002  f7fffffe          BL       Int_Handler
;;;69     }
000006  bd10              POP      {r4,pc}
;;;70     /* End Function:Int_Init *****************************************************/
                          ENDP


                          AREA ||i.Test_Mail_1||, CODE, READONLY, ALIGN=2

                  Test_Mail_1 PROC
;;;62     
;;;63     void Test_Mail_1(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;64     {
;;;65         static rmp_cnt_t Count;
;;;66         for(Count=0;Count<10000;Count++)
000002  4c08              LDR      r4,|L9.36|
000004  2500              MOVS     r5,#0
;;;67         {
;;;68             /* Read counter here */
;;;69             Start=COUNTER_READ();
;;;70             RMP_Thd_Snd(&Thd_2, 1, RMP_MAX_SLICES);
000006  4f08              LDR      r7,|L9.40|
000008  4e08              LDR      r6,|L9.44|
00000a  6225              STR      r5,[r4,#0x20]         ;66  ; Count
                  |L9.12|
00000c  8025              STRH     r5,[r4,#0]            ;69
00000e  463a              MOV      r2,r7
000010  2101              MOVS     r1,#1
000012  4807              LDR      r0,|L9.48|
000014  f7fffffe          BL       RMP_Thd_Snd
000018  6a20              LDR      r0,[r4,#0x20]         ;66  ; Count
00001a  1c40              ADDS     r0,r0,#1              ;66
00001c  6220              STR      r0,[r4,#0x20]         ;66  ; Count
00001e  42b0              CMP      r0,r6                 ;66
000020  dbf4              BLT      |L9.12|
;;;71         }
;;;72     }
000022  bdf8              POP      {r3-r7,pc}
;;;73     
                          ENDP

                  |L9.36|
                          DCD      ||.data||
                  |L9.40|
                          DCD      0x000186a0
                  |L9.44|
                          DCD      0x00002710
                  |L9.48|
                          DCD      ||.bss||+0x83c

                          AREA ||i.Test_Mail_2||, CODE, READONLY, ALIGN=2

                  Test_Mail_2 PROC
;;;112    }
;;;113    void Test_Mail_2(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;114    {
;;;115        rmp_ptr_t Data;
;;;116        rmp_cnt_t Count;
;;;117        for(Count=0;Count<10000;Count++)
000002  2500              MOVS     r5,#0
;;;118        {
;;;119            RMP_Thd_Rcv(&Data, RMP_MAX_SLICES);
;;;120            /* Read counter here */
;;;121            End=COUNTER_READ();
000004  4c09              LDR      r4,|L10.44|
000006  4f0a              LDR      r7,|L10.48|
000008  462e              MOV      r6,r5                 ;117
                  |L10.10|
00000a  490a              LDR      r1,|L10.52|
00000c  4668              MOV      r0,sp                 ;119
00000e  f7fffffe          BL       RMP_Thd_Rcv
000012  8066              STRH     r6,[r4,#2]
;;;122            Total+=(rmp_tim_t)(End-Start);
000014  8860              LDRH     r0,[r4,#2]  ; End
000016  8821              LDRH     r1,[r4,#0]  ; Start
000018  1a40              SUBS     r0,r0,r1
00001a  6861              LDR      r1,[r4,#4]  ; Total
00001c  b280              UXTH     r0,r0
00001e  1840              ADDS     r0,r0,r1
000020  6060              STR      r0,[r4,#4]  ; Total
000022  1c6d              ADDS     r5,r5,#1
000024  42bd              CMP      r5,r7                 ;117
000026  dbf0              BLT      |L10.10|
;;;123        }
;;;124    }
000028  bdf8              POP      {r3-r7,pc}
;;;125    
                          ENDP

00002a  0000              DCW      0x0000
                  |L10.44|
                          DCD      ||.data||
                  |L10.48|
                          DCD      0x00002710
                  |L10.52|
                          DCD      0x000186a0

                          AREA ||i.Test_Mail_ISR||, CODE, READONLY, ALIGN=2

                  Test_Mail_ISR PROC
;;;137    
;;;138    void Test_Mail_ISR(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;139    {
;;;140        rmp_ptr_t Data;
;;;141        static rmp_cnt_t Count;
;;;142        for(Count=0;Count<10000;Count++)
000002  4c0b              LDR      r4,|L11.48|
000004  2500              MOVS     r5,#0
;;;143        {
;;;144            RMP_Thd_Rcv(&Data, RMP_MAX_SLICES);
000006  4f0b              LDR      r7,|L11.52|
000008  4e0b              LDR      r6,|L11.56|
00000a  6265              STR      r5,[r4,#0x24]         ;142  ; Count
                  |L11.12|
00000c  4639              MOV      r1,r7
00000e  4668              MOV      r0,sp
000010  f7fffffe          BL       RMP_Thd_Rcv
;;;145            /* Read counter here */
;;;146            End=COUNTER_READ();
000014  8065              STRH     r5,[r4,#2]
;;;147            Total+=(rmp_tim_t)(End-Start);
000016  8860              LDRH     r0,[r4,#2]  ; End
000018  8821              LDRH     r1,[r4,#0]  ; Start
00001a  1a40              SUBS     r0,r0,r1
00001c  6861              LDR      r1,[r4,#4]  ; Total
00001e  b280              UXTH     r0,r0
000020  1840              ADDS     r0,r0,r1
000022  6060              STR      r0,[r4,#4]  ; Total
000024  6a60              LDR      r0,[r4,#0x24]         ;142  ; Count
000026  1c40              ADDS     r0,r0,#1              ;142
000028  6260              STR      r0,[r4,#0x24]         ;142  ; Count
00002a  42b0              CMP      r0,r6                 ;142
00002c  dbee              BLT      |L11.12|
;;;148        }
;;;149    }
00002e  bdf8              POP      {r3-r7,pc}
;;;150    
                          ENDP

                  |L11.48|
                          DCD      ||.data||
                  |L11.52|
                          DCD      0x000186a0
                  |L11.56|
                          DCD      0x00002710

                          AREA ||i.Test_Sem_1||, CODE, READONLY, ALIGN=2

                  Test_Sem_1 PROC
;;;73     
;;;74     void Test_Sem_1(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;75     {
;;;76         rmp_cnt_t Count;
;;;77         for(Count=0;Count<10000;Count++)
000002  2400              MOVS     r4,#0
;;;78         {
;;;79             /* Read counter here */
;;;80             Start=COUNTER_READ();
000004  4e05              LDR      r6,|L12.28|
000006  4f06              LDR      r7,|L12.32|
000008  4625              MOV      r5,r4                 ;77
                  |L12.10|
00000a  8035              STRH     r5,[r6,#0]
;;;81             RMP_Sem_Post(&Sem_1, 1);
00000c  2101              MOVS     r1,#1
00000e  4805              LDR      r0,|L12.36|
000010  f7fffffe          BL       RMP_Sem_Post
000014  1c64              ADDS     r4,r4,#1
000016  42bc              CMP      r4,r7                 ;77
000018  dbf7              BLT      |L12.10|
;;;82         }
;;;83     }
00001a  bdf8              POP      {r3-r7,pc}
;;;84     
                          ENDP

                  |L12.28|
                          DCD      ||.data||
                  |L12.32|
                          DCD      0x00002710
                  |L12.36|
                          DCD      ||.bss||+0x878

                          AREA ||i.Test_Sem_2||, CODE, READONLY, ALIGN=2

                  Test_Sem_2 PROC
;;;125    
;;;126    void Test_Sem_2(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;127    {
;;;128        rmp_cnt_t Count;
;;;129        for(Count=0;Count<10000;Count++)
000002  2500              MOVS     r5,#0
;;;130        {
;;;131            RMP_Sem_Pend(&Sem_1, RMP_MAX_SLICES);
;;;132            /* Read counter here */
;;;133            End=COUNTER_READ();
000004  4c09              LDR      r4,|L13.44|
000006  4f0a              LDR      r7,|L13.48|
000008  462e              MOV      r6,r5                 ;129
                  |L13.10|
00000a  490a              LDR      r1,|L13.52|
00000c  480a              LDR      r0,|L13.56|
00000e  f7fffffe          BL       RMP_Sem_Pend
000012  8066              STRH     r6,[r4,#2]
;;;134            Total+=(rmp_tim_t)(End-Start);
000014  8860              LDRH     r0,[r4,#2]  ; End
000016  8821              LDRH     r1,[r4,#0]  ; Start
000018  1a40              SUBS     r0,r0,r1
00001a  6861              LDR      r1,[r4,#4]  ; Total
00001c  b280              UXTH     r0,r0
00001e  1840              ADDS     r0,r0,r1
000020  6060              STR      r0,[r4,#4]  ; Total
000022  1c6d              ADDS     r5,r5,#1
000024  42bd              CMP      r5,r7                 ;129
000026  dbf0              BLT      |L13.10|
;;;135        }
;;;136    }
000028  bdf8              POP      {r3-r7,pc}
;;;137    
                          ENDP

00002a  0000              DCW      0x0000
                  |L13.44|
                          DCD      ||.data||
                  |L13.48|
                          DCD      0x00002710
                  |L13.52|
                          DCD      0x000186a0
                  |L13.56|
                          DCD      ||.bss||+0x878

                          AREA ||i.Test_Sem_ISR||, CODE, READONLY, ALIGN=2

                  Test_Sem_ISR PROC
;;;150    
;;;151    void Test_Sem_ISR(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;152    {
;;;153        static rmp_cnt_t Count;
;;;154        for(Count=0;Count<10000;Count++)
000002  4c0b              LDR      r4,|L14.48|
000004  2500              MOVS     r5,#0
;;;155        {
;;;156            RMP_Sem_Pend(&Sem_1, RMP_MAX_SLICES);
000006  4f0b              LDR      r7,|L14.52|
000008  4e0b              LDR      r6,|L14.56|
00000a  62a5              STR      r5,[r4,#0x28]         ;154  ; Count
                  |L14.12|
00000c  4639              MOV      r1,r7
00000e  480b              LDR      r0,|L14.60|
000010  f7fffffe          BL       RMP_Sem_Pend
;;;157            /* Read counter here */
;;;158            End=COUNTER_READ();
000014  8065              STRH     r5,[r4,#2]
;;;159            Total+=(rmp_tim_t)(End-Start);
000016  8860              LDRH     r0,[r4,#2]  ; End
000018  8821              LDRH     r1,[r4,#0]  ; Start
00001a  1a40              SUBS     r0,r0,r1
00001c  6861              LDR      r1,[r4,#4]  ; Total
00001e  b280              UXTH     r0,r0
000020  1840              ADDS     r0,r0,r1
000022  6060              STR      r0,[r4,#4]  ; Total
000024  6aa0              LDR      r0,[r4,#0x28]         ;154  ; Count
000026  1c40              ADDS     r0,r0,#1              ;154
000028  62a0              STR      r0,[r4,#0x28]         ;154  ; Count
00002a  42b0              CMP      r0,r6                 ;154
00002c  dbee              BLT      |L14.12|
;;;160        }
;;;161    }
00002e  bdf8              POP      {r3-r7,pc}
;;;162    
                          ENDP

                  |L14.48|
                          DCD      ||.data||
                  |L14.52|
                          DCD      0x000186a0
                  |L14.56|
                          DCD      0x00002710
                  |L14.60|
                          DCD      ||.bss||+0x878

                          AREA ||i.Test_Yield_1||, CODE, READONLY, ALIGN=2

                  Test_Yield_1 PROC
;;;51     ******************************************************************************/
;;;52     void Test_Yield_1(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;53     {
;;;54         rmp_cnt_t Count;
;;;55         for(Count=0;Count<10000;Count++)
000002  2400              MOVS     r4,#0
;;;56         {
;;;57             /* Read counter here */
;;;58             Start=COUNTER_READ();
000004  4e04              LDR      r6,|L15.24|
000006  4f05              LDR      r7,|L15.28|
000008  4625              MOV      r5,r4                 ;55
                  |L15.10|
00000a  8035              STRH     r5,[r6,#0]
;;;59             RMP_Yield();
00000c  f7fffffe          BL       RMP_Yield
000010  1c64              ADDS     r4,r4,#1
000012  42bc              CMP      r4,r7                 ;55
000014  dbf9              BLT      |L15.10|
;;;60         }
;;;61     }
000016  bdf8              POP      {r3-r7,pc}
;;;62     
                          ENDP

                  |L15.24|
                          DCD      ||.data||
                  |L15.28|
                          DCD      0x00002710

                          AREA ||i.Test_Yield_2||, CODE, READONLY, ALIGN=2

                  Test_Yield_2 PROC
;;;101    ******************************************************************************/
;;;102    void Test_Yield_2(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;103    {
;;;104        rmp_cnt_t Count;
;;;105        for(Count=0;Count<10000;Count++)
000002  2500              MOVS     r5,#0
000004  462e              MOV      r6,r5
;;;106        {
;;;107            RMP_Yield();
;;;108            /* Read counter here */
;;;109            End=COUNTER_READ();
000006  4c08              LDR      r4,|L16.40|
000008  4f08              LDR      r7,|L16.44|
                  |L16.10|
00000a  f7fffffe          BL       RMP_Yield
00000e  8066              STRH     r6,[r4,#2]
;;;110            Total+=(rmp_tim_t)(End-Start);
000010  8860              LDRH     r0,[r4,#2]  ; End
000012  8821              LDRH     r1,[r4,#0]  ; Start
000014  1a40              SUBS     r0,r0,r1
000016  6861              LDR      r1,[r4,#4]  ; Total
000018  b280              UXTH     r0,r0
00001a  1840              ADDS     r0,r0,r1
00001c  6060              STR      r0,[r4,#4]  ; Total
00001e  1c6d              ADDS     r5,r5,#1
000020  42bd              CMP      r5,r7                 ;105
000022  dbf2              BLT      |L16.10|
;;;111        };
;;;112    }
000024  bdf8              POP      {r3-r7,pc}
;;;113    void Test_Mail_2(void)
                          ENDP

000026  0000              DCW      0x0000
                  |L16.40|
                          DCD      ||.data||
                  |L16.44|
                          DCD      0x00002710

                          AREA ||i.Timer_Init||, CODE, READONLY, ALIGN=1

                  Timer_Init PROC
;;;42     ******************************************************************************/
;;;43     void Timer_Init(void)
000000  4770              BX       lr
;;;44     {
;;;45         /* 在这里你需要初始化计时用定时器 */
;;;46     }
;;;47     /* End Function:Timer_Init ***************************************************/
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  Stack_1
                          %        1024
                  Stack_2
                          %        1024
                  Thd_1
                          %        60
                  Thd_2
                          %        60
                  Sem_1
                          %        16

                          AREA ||area_number.20||, DATA, NOINIT, ALIGN=2

                          EXPORTAS ||area_number.20||, ||.bss||
                  Thd_Test
                          %        60

                          AREA ||.data||, DATA, ALIGN=2

                  Start
000000  0000              DCW      0x0000
                  End
000002  0000              DCW      0x0000
                  Total
                          DCD      0x00000000
                  Temp
                          DCD      0x00000000
                  Yield_Time
                          DCD      0x00000000
                  Mailbox_Time
                          DCD      0x00000000
                  Semaphore_Time
                          DCD      0x00000000
                  Mailbox_ISR_Time
                          DCD      0x00000000
                  Semaphore_ISR_Time
                          DCD      0x00000000
                  Count
                          DCD      0x00000000
                  |symbol_number.53|
                          DCD      0x00000000
                  |symbol_number.54|
                          DCD      0x00000000
                  |symbol_number.55|
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\..\\MProkaron\\Benchmark\\rmp_test.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___10_rmp_test_c_8a7ecf15____REV16|
#line 388 "..\\..\\..\\M0P0_Library\\HC32L13X_DDL_V1.0\\driver\\CMSIS\\Include\\cmsis_armcc.h"
|__asm___10_rmp_test_c_8a7ecf15____REV16| PROC
#line 389

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___10_rmp_test_c_8a7ecf15____REVSH|
#line 402
|__asm___10_rmp_test_c_8a7ecf15____REVSH| PROC
#line 403

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
